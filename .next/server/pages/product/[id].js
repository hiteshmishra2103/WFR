(()=>{var e={};e.id=360,e.ids=[360,888],e.modules={3578:e=>{e.exports={btn:"ProductDetails_btn__9iutP",buyBtn:"ProductDetails_buyBtn__GD7gP",category:"ProductDetails_category__8L_7M",produtNamePrice:"ProductDetails_produtNamePrice__GUqvx",productDetailsParentContainer:"ProductDetails_productDetailsParentContainer__P_x89",productThumbnailContainer:"ProductDetails_productThumbnailContainer__CwbXf",thumbnail:"ProductDetails_thumbnail__yvAYN",productDetails:"ProductDetails_productDetails__p_5Pm",description:"ProductDetails_description__OPfJn",price:"ProductDetails_price__sGEWY",quantityAddToCartContainer:"ProductDetails_quantityAddToCartContainer__f3_Om",productName:"ProductDetails_productName__p2RVY",productQuantityContainer:"ProductDetails_productQuantityContainer__AiBR7",descriptionHeading:"ProductDetails_descriptionHeading__9Qb1l"}},5289:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>h,default:()=>p,getServerSideProps:()=>x,getStaticPaths:()=>m,getStaticProps:()=>_,reportWebVitals:()=>P,routeModule:()=>j,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>g});var i=r(7093),a=r(5244),c=r(1323),o=r(1269),u=r(2292),n=r(1846),l=e([u]);u=(l.then?(await l)():l)[0];let d=i.PagesRouteModule,p=(0,c.l)(n,"default"),_=(0,c.l)(n,"getStaticProps"),m=(0,c.l)(n,"getStaticPaths"),x=(0,c.l)(n,"getServerSideProps"),h=(0,c.l)(n,"config"),P=(0,c.l)(n,"reportWebVitals"),g=(0,c.l)(n,"unstable_getStaticProps"),b=(0,c.l)(n,"unstable_getStaticPaths"),y=(0,c.l)(n,"unstable_getStaticParams"),v=(0,c.l)(n,"unstable_getServerProps"),S=(0,c.l)(n,"unstable_getServerSideProps"),j=new d({definition:{kind:a.x.PAGES,page:"/product/[id]",pathname:"/product/[id]",bundlePath:"",filename:""},components:{App:u.default,Document:o.default},userland:n});s()}catch(e){s(e)}})},1846:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P});var s=r(997),i=r(1163),a=r(3578),c=r.n(a),o=r(5675),u=r.n(o),n=r(6689),l=r(3674),d=r.n(l),p=r(943),_=r(4913),m=r(2362),x=r(9755),h=r(7533);let P=()=>{let e=(0,i.useRouter)(),{id:t}=e.query,[r,a]=(0,n.useState)(null),o=(0,x.useSetRecoilState)(m.Z),[l,P]=(0,n.useState)(!1),g=(0,x.useRecoilValue)(h.K),b=(0,n.useRef)();if((0,n.useEffect)(()=>{t&&fetch(`${process.env.NEXT_PUBLIC_SERVER_URL}/products/${t}`).then(e=>e.json()).then(e=>a(e))},[t]),console.log(r),!r)return s.jsx("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",width:"100%",height:"100vh"},children:s.jsx("div",{style:{display:"flex",justifyContent:"center"},children:s.jsx(d(),{})})});let y=async()=>{await (0,p.loadStripe)(process.env.NEXT_PUBLIC_PUBLISHABLE_KEY),r.name,r.price,b.current.value,r._id;try{throw Error("User token not found or localStorage not available.")}catch(e){console.error(e),alert("Error occurred while processing payment.")}},v=r.description.split(".");return(0,s.jsxs)("div",{children:[l&&s.jsx("div",{class:"notification",children:"âœ… Added to Cart "}),(0,s.jsxs)("div",{className:c().productDetailsParentContainer,children:[s.jsx("div",{className:c().productThumbnailContainer,children:s.jsx(u(),{className:c().thumbnail,src:r.thumbnail,alt:"product image",width:100,height:100})}),(0,s.jsxs)("div",{className:c().productDetails,children:[(0,s.jsxs)("div",{className:c().productNamePrice,children:[(0,s.jsxs)("p",{className:c().category,children:["Category: ",r.category]}),s.jsx("p",{className:c().productName,children:r.name}),(0,s.jsxs)("p",{className:c().price,children:["$",r.price]}),s.jsx("div",{children:v.map(e=>(0,s.jsxs)("p",{className:c().description,children:[e,"."]}))})]}),(0,s.jsxs)("div",{className:c().quantityAddToCartContainer,children:[s.jsx("div",{className:c().productQuantityContainer,children:s.jsx("input",{ref:b,type:"number",className:c().productQuantity,defaultValue:1,min:1})}),g.user?s.jsx("button",{className:c().btn,onClick:()=>{(0,_.Z)(t,r.price,o,P,+b.current.value)},children:"Add To Cart"}):s.jsx("p",{children:"Login to add this product to cart!"})]}),g.user?s.jsx("button",{className:c().buyBtn,onClick:()=>{y()},children:"Quick Buy"}):null]})]})]})}},9295:e=>{"use strict";e.exports=require("@mui/base/composeClasses")},7986:e=>{"use strict";e.exports=require("@mui/system")},657:e=>{"use strict";e.exports=require("@mui/utils")},943:e=>{"use strict";e.exports=require("@stripe/stripe-js")},8103:e=>{"use strict";e.exports=require("clsx")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},580:e=>{"use strict";e.exports=require("prop-types")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9755:e=>{"use strict";e.exports=require("recoil")},9648:e=>{"use strict";e.exports=import("axios")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[966,695,859,450,292,30],()=>r(5289));module.exports=s})();