(()=>{var e={};e.id=887,e.ids=[887,888],e.modules={8721:e=>{e.exports={dashboardParentContainer:"OrdersHistory_dashboardParentContainer__2W1Yx",dashboardSidebar:"OrdersHistory_dashboardSidebar__ZdoBN",active:"OrdersHistory_active__psVu0",dashboardContent:"OrdersHistory_dashboardContent__yeqDY",dashboardContentHeader:"OrdersHistory_dashboardContentHeader__hn1dh",dashboardContentOrdersContainer:"OrdersHistory_dashboardContentOrdersContainer__xCVVA",dashboardContentOrdersContainerOrder:"OrdersHistory_dashboardContentOrdersContainerOrder__cN2az",productDetails:"OrdersHistory_productDetails__iFn6e",totalPrice:"OrdersHistory_totalPrice__1SWPM",status:"OrdersHistory_status__pjK54",NoOrdersContainer:"OrdersHistory_NoOrdersContainer__XuuXi",NoOrder:"OrdersHistory_NoOrder__9Of5s",container:"OrdersHistory_container__FqTpa",title:"OrdersHistory_title__PiBMX",productImage:"OrdersHistory_productImage__LUl1m",productDetailsContainer:"OrdersHistory_productDetailsContainer__GZLrR"}},3227:(e,r,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{config:()=>m,default:()=>p,getServerSideProps:()=>x,getStaticPaths:()=>_,getStaticProps:()=>h,reportWebVitals:()=>b,routeModule:()=>y,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>g,unstable_getStaticPaths:()=>O,unstable_getStaticProps:()=>C});var a=t(7093),i=t(5244),d=t(1323),o=t(1269),n=t(2292),l=t(1396),c=e([n]);n=(c.then?(await c)():c)[0];let u=a.PagesRouteModule,p=(0,d.l)(l,"default"),h=(0,d.l)(l,"getStaticProps"),_=(0,d.l)(l,"getStaticPaths"),x=(0,d.l)(l,"getServerSideProps"),m=(0,d.l)(l,"config"),b=(0,d.l)(l,"reportWebVitals"),C=(0,d.l)(l,"unstable_getStaticProps"),O=(0,d.l)(l,"unstable_getStaticPaths"),g=(0,d.l)(l,"unstable_getStaticParams"),j=(0,d.l)(l,"unstable_getServerProps"),v=(0,d.l)(l,"unstable_getServerSideProps"),y=new u({definition:{kind:i.x.PAGES,page:"/ordershistory",pathname:"/ordershistory",bundlePath:"",filename:""},components:{App:n.default,Document:o.default},userland:l});s()}catch(e){s(e)}})},1396:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var s=t(997),a=t(6689),i=t(8721),d=t.n(i),o=t(5675),n=t.n(o),l=t(1664),c=t.n(l),u=t(379),p=t(1163),h=t(9755),_=t(7533);let x=()=>{let e=(0,h.useRecoilValue)(_.K),[r,t]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[l,x]=(0,a.useState)("all"),m=(0,p.useRouter)();if((0,a.useEffect)(()=>{let e=async()=>{try{let e=await fetch(`${process.env.NEXT_PUBLIC_SERVER_URL}/orders/history`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "}}),r=await e.json();t(r),o(!1)}catch(e){console.error(e),console.log("Server error"),o(!1)}};e()},[l]),i)return s.jsx(u.g,{});if(!e.user)return s.jsx("div",{className:d().container,children:s.jsx("h1",{className:d().title,children:"Not authorised! Login to see your orders history."})});if(!i&&0===r.length)return(0,s.jsxs)("div",{className:d().NoOrdersContainer,children:[s.jsx("h1",{className:d().NoOrder,children:"No orders Yet!"}),s.jsx(c(),{href:"/",children:s.jsx("p",{children:"Purchase Now!"})})]});{let e=r.filter(e=>"fulfilled"===l?"fulfilled"===e.status:"pending"!==l||"pending"===e.status);return(0,s.jsxs)("div",{className:d().dashboardParentContainer,children:[(0,s.jsxs)("div",{className:d().dashboardSidebar,children:[s.jsx("div",{onClick:()=>m.push("/"),children:"Home"}),s.jsx("div",{onClick:()=>m.push("/cart"),children:"Cart"}),s.jsx("div",{className:"fulfilled"===l?d().active:"",onClick:()=>x("fulfilled"),children:"Fulfilled Orders"}),s.jsx("div",{className:"pending"===l?d().active:"",onClick:()=>x("pending"),children:"Pending Orders"}),s.jsx("div",{className:"all"===l?d().active:"",onClick:()=>x("all"),children:"All Orders"})]}),(0,s.jsxs)("div",{className:d().dashboardContent,children:[s.jsx("h1",{className:d().dashboardContentHeader,children:"Orders History"}),s.jsx("div",{className:d().dashboardContentOrdersContainer,children:e.map(e=>(0,s.jsxs)("div",{className:d().dashboardContentOrdersContainerOrder,children:[(0,s.jsxs)("h1",{children:["Order Id: #",e._id]}),s.jsx("div",{className:d().productDetailsContainer,children:e.products.map(e=>(0,s.jsxs)("div",{className:d().productDetails,children:[s.jsx(n(),{className:d().productImage,src:e.product.thumbnail,alt:"product image",width:100,height:100}),s.jsx("p",{children:e.product.name}),s.jsx("p",{children:e.product.price}),(0,s.jsxs)("p",{children:["Ordered Quantity: ",e.quantity]})]},e.product._id))}),(0,s.jsxs)("p",{className:d().totalPrice,children:["Total Price: $",e.totalPrice]}),(0,s.jsxs)("p",{className:d().status,children:["Status: ",e.status]})]},e._id))})]})]})}}},9295:e=>{"use strict";e.exports=require("@mui/base/composeClasses")},7986:e=>{"use strict";e.exports=require("@mui/system")},657:e=>{"use strict";e.exports=require("@mui/utils")},8103:e=>{"use strict";e.exports=require("clsx")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},580:e=>{"use strict";e.exports=require("prop-types")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9755:e=>{"use strict";e.exports=require("recoil")},9648:e=>{"use strict";e.exports=import("axios")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[966,695,859,450,292,76],()=>t(3227));module.exports=s})();