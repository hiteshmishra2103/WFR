(()=>{var e={};e.id=548,e.ids=[548,888],e.modules={9054:e=>{e.exports={addProductContainer:"Addproduct_addProductContainer__LNY2s",DeleteBtn:"Addproduct_DeleteBtn__EwgNV",addProductFormParentContainer:"Addproduct_addProductFormParentContainer__ei6Qi",addProductFormContainer:"Addproduct_addProductFormContainer__sdXiv",productThumbnail:"Addproduct_productThumbnail__h5Tpn",imagePreviewContainer:"Addproduct_imagePreviewContainer__hmwTn",productThumbnailCard:"Addproduct_productThumbnailCard__Vb2n4",thumbnailPreviewCard:"Addproduct_thumbnailPreviewCard__mDnC2",imagePreviewCard:"Addproduct_imagePreviewCard__k7N6C",DeleteThumbnailBtn:"Addproduct_DeleteThumbnailBtn__sZWgE",previewThumbnail:"Addproduct_previewThumbnail__argSG",productMediaCard:"Addproduct_productMediaCard__SosHL",productTitle:"Addproduct_productTitle__VCTLm",productDescription:"Addproduct_productDescription__P_00P",uploadForm:"Addproduct_uploadForm__615ak",uploadLabel:"Addproduct_uploadLabel__DKaqG",uploadInput:"Addproduct_uploadInput__ceAyO",uploadButtonContainer:"Addproduct_uploadButtonContainer__BbFt0",DeleteFilesBtn:"Addproduct_DeleteFilesBtn__y3uIr",previewImage:"Addproduct_previewImage__CJ1lf",fileUpload:"Addproduct_fileUpload__LGl0E",fileInput:"Addproduct_fileInput__eYsRV",imagePreview:"Addproduct_imagePreview__pqGeZ",clearImage:"Addproduct_clearImage__UKAZ0",fileUploadContainer:"Addproduct_fileUploadContainer__4qtpL",iconContainer:"Addproduct_iconContainer__0K3_D",textField:"Addproduct_textField__4VJo2",dropdown:"Addproduct_dropdown__rk2bP",textarea:"Addproduct_textarea__x7UAy",saveButtonContainer:"Addproduct_saveButtonContainer__7wgEu",createButton:"Addproduct_createButton__qRY20",saveButton:"Addproduct_saveButton__GKQMl"}},4894:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>x,default:()=>p,getServerSideProps:()=>h,getStaticPaths:()=>_,getStaticProps:()=>m,reportWebVitals:()=>g,routeModule:()=>A,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>C,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>v});var i=r(7093),d=r(5244),s=r(1323),o=r(1269),l=r(2292),n=r(7428),u=e([l]);l=(u.then?(await u)():u)[0];let c=i.PagesRouteModule,p=(0,s.l)(n,"default"),m=(0,s.l)(n,"getStaticProps"),_=(0,s.l)(n,"getStaticPaths"),h=(0,s.l)(n,"getServerSideProps"),x=(0,s.l)(n,"config"),g=(0,s.l)(n,"reportWebVitals"),v=(0,s.l)(n,"unstable_getStaticProps"),j=(0,s.l)(n,"unstable_getStaticPaths"),C=(0,s.l)(n,"unstable_getStaticParams"),P=(0,s.l)(n,"unstable_getServerProps"),b=(0,s.l)(n,"unstable_getServerSideProps"),A=new c({definition:{kind:d.x.PAGES,page:"/addproduct",pathname:"/addproduct",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:n});a()}catch(e){a(e)}})},7428:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(997),i=r(6689),d=r(9755),s=r(7533),o=r(6568),l=r(9054),n=r.n(l),u=r(3985),c=r(3674),p=r.n(c);let m=()=>{let[e,t]=(0,i.useState)(""),[r,l]=(0,i.useState)(""),[c,m]=(0,i.useState)(""),[_,h]=(0,i.useState)(""),[x,g]=(0,i.useState)(""),[v,j]=(0,i.useState)(""),[C,P]=(0,i.useState)(""),[b,A]=(0,i.useState)(""),[f,y]=(0,i.useState)(""),S=(0,d.useRecoilValue)(u.j),N=async t=>{try{let{published:a}=t,i=await w();if(!i)return alert("Please select an image to upload for product thumbnail!");if(!e)return alert("Please enter a product name!");if(!r)return alert("Please enter a product description!");if(!c)return alert("Please enter a product price!");if(!_)return alert("Please select a product category!");if(!x)return alert("Please enter a product color!");if(!v)return alert("Please enter a product quantity!");console.log({productName:e,productDescription:r,productPrice:c,productCategory:_,productColor:x,productQuantity:v,productMediaUrl:[],thUrl:i,published:a}),alert("localStorage is not available or token is not present. Unable to perform the operation.")}catch(e){console.error("An error occurred:",e),alert("An error occurred while creating the product. Please try again.")}},w=async()=>{try{console.log(f);let e="";if("image/png"===f.type||"image/jpeg"===f.type||"image/jpg"===f.type||"image/webp"===f.type||"image/svg"===f.type){let t=new FormData;t.append("file",f),t.append("cloud_name",`${process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME}`),t.append("upload_preset",`${process.env.NEXT_PUBLIC_UPLOAD_PRESET}`),console.log("Making request to cloudinary");let r=await fetch(`https://api.cloudinary.com/v1_1/${process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME}/upload`,{method:"POST",body:t}),a=await r.json();e=a.secure_url.toString()}return A(""),y(""),e}catch(e){console.log(e)}finally{}},q=(0,d.useRecoilValue)(s.K);return S?q.user&&q?.user.isAdmin?(0,a.jsxs)("div",{className:n().addProductContainer,children:[a.jsx("h2",{className:"text-4xl",children:"NEW PRODUCT"}),(0,a.jsxs)("div",{className:n().addProductFormParentContainer,children:[a.jsx("div",{className:n().productThumbnail,children:(0,a.jsxs)("div",{className:n().productThumbnailCard,children:[a.jsx("h4",{className:n().productTitle,children:"Product Thumbnail"}),a.jsx("p",{className:n().productDescription,children:"Only *.png, *.jpg, *.jpeg,*.svg, *.webp files are accepted"}),a.jsx("form",{className:n().uploadForm,children:""===b?a.jsx("div",{className:n().fileUploadContainer,children:(0,a.jsxs)("div",{className:n().fileUpload,children:[a.jsx("p",{children:"Upload one file to set as the thumbnail..."}),a.jsx("input",{type:"file",id:"product-upload-input",accept:"image/png, image/jpeg, image/jpg, image/webp, image/svg+xml",onChange:e=>{let t=e.target.files;A(URL.createObjectURL(t[0])),y(t[0])},className:n().fileInput})]})}):a.jsx("div",{className:n().thumbnailPreviewCard,children:b&&(0,a.jsxs)("div",{children:[a.jsx("span",{onClick:()=>A(""),className:n().DeleteThumbnailBtn,children:"Upload another Image"}),a.jsx("img",{src:b,className:n().previewThumbnail,alt:"thumbnail"})]})})})]})}),(0,a.jsxs)("div",{className:n().addProductFormContainer,children:[(0,a.jsxs)("div",{className:n().textField,children:[a.jsx("input",{type:"text",name:"productname",id:"productname",onChange:e=>{t(e.target.value)},value:e,required:!0}),a.jsx("span",{}),a.jsx("label",{htmlFor:"productname",children:"Product Name"})]}),a.jsx("div",{className:n().textarea,children:a.jsx("textarea",{name:"postContent",autoComplete:"true",cols:10,placeholder:"Write your product description here...",onChange:e=>{l(e.target.value)},value:r,rows:5})}),(0,a.jsxs)("div",{className:n().textField,children:[a.jsx("input",{type:"number",name:"price",id:"price",required:!0,value:c,onChange:e=>m(e.target.value)}),a.jsx("span",{}),a.jsx("label",{htmlFor:"price",children:"Price"})]}),(0,a.jsxs)("div",{className:n().dropdown,children:[a.jsx("label",{htmlFor:"categories",children:"Choose a category:"}),(0,a.jsxs)("select",{name:"categories",id:"categories",onChange:e=>h(e.target.value),value:_,children:[a.jsx("option",{value:"selectacategory",children:"Select a category"}),a.jsx("option",{value:"computer",children:"Computer & Laptops"}),a.jsx("option",{value:"cellphone",children:"Cellphone"}),a.jsx("option",{value:"accessories",children:"Accessories"}),a.jsx("option",{value:"watch",children:"Watch"}),a.jsx("option",{value:"audioVideo",children:"Audio & Video"})]})]}),(0,a.jsxs)("div",{className:`${n().textField}`,children:[a.jsx("input",{type:"text",name:"color",onChange:e=>g(e.target.value),value:x,required:!0}),a.jsx("span",{}),a.jsx("label",{htmlFor:"color",children:"Color"})]}),(0,a.jsxs)("div",{className:n().textField,children:[a.jsx("input",{type:"number",name:"quantity",id:"quantity",onChange:e=>j(e.target.value),value:v,required:!0}),a.jsx("span",{}),a.jsx("label",{htmlFor:"quantity",children:"Quantity"})]})]})]}),(0,a.jsxs)("div",{className:n().saveButtonContainer,children:[a.jsx("div",{className:n().saveButton,onClick:()=>{N({published:!1})},children:a.jsx("p",{children:"Save as Draft"})}),a.jsx("div",{className:n().createButton,onClick:()=>{N({published:!0})},children:a.jsx("p",{children:"Publish Product Live"})})]})]}):a.jsx(o.default,{}):a.jsx("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",width:"100%",height:"100vh"},children:a.jsx("div",{style:{display:"flex",justifyContent:"center"},children:a.jsx(p(),{})})})}},9295:e=>{"use strict";e.exports=require("@mui/base/composeClasses")},7986:e=>{"use strict";e.exports=require("@mui/system")},657:e=>{"use strict";e.exports=require("@mui/utils")},8103:e=>{"use strict";e.exports=require("clsx")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},580:e=>{"use strict";e.exports=require("prop-types")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9755:e=>{"use strict";e.exports=require("recoil")},9648:e=>{"use strict";e.exports=import("axios")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[966,695,859,450,292,324],()=>r(4894));module.exports=a})();