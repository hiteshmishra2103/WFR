(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[548],{8481:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/addproduct",function(){return a(2128)}])},6568:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var r=a(5893),n=a(1664),d=a.n(n),o=a(2883),i=a.n(o);function l(){return(0,r.jsxs)("div",{className:i().container,children:[(0,r.jsx)("h1",{className:i().title,children:"404 - Page Not Found"}),(0,r.jsx)("p",{className:i().message,children:"The page you are looking for does not exist."}),(0,r.jsx)("div",{className:i().linkContainer,children:(0,r.jsx)(d(),{href:"/",children:"Go back to Home"})})]})}},2128:function(e,t,a){"use strict";a.r(t);var r=a(5893),n=a(7294),d=a(4480),o=a(7533),i=a(6568),l=a(7233),c=a.n(l),s=a(3985),u=a(3927),p=a(3454);t.default=()=>{let[e,t]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[_,m]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[x,v]=(0,n.useState)(""),[j,C]=(0,n.useState)(""),[f,P]=(0,n.useState)(""),[N,A]=(0,n.useState)(""),[b,y]=(0,n.useState)(""),w=(0,d.sJ)(s.j),T=async r=>{try{let{published:n}=r,d=await F();if(!d)return alert("Please select an image to upload for product thumbnail!");if(!e)return alert("Please enter a product name!");if(!a)return alert("Please enter a product description!");if(!_)return alert("Please enter a product price!");if(!h)return alert("Please select a product category!");if(!x)return alert("Please enter a product color!");if(!j)return alert("Please enter a product quantity!");let o={productName:e,productDescription:a,productPrice:_,productCategory:h,productColor:x,productQuantity:j,productMediaUrl:[],thUrl:d,published:n};if(console.log(o),window.localStorage.getItem("token")){let e=await fetch("".concat(p.env.NEXT_PUBLIC_SERVER_URL,"/products/add"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify(o)});if(201===e.status)t(""),l(""),m(""),g(""),v(""),C(""),P(""),n?alert("Product created successfully!"):alert("Product saved as draft successfully!");else{let t=await e.json();alert(t.message)}}else alert("localStorage is not available or token is not present. Unable to perform the operation.")}catch(e){console.error("An error occurred:",e),alert("An error occurred while creating the product. Please try again.")}},F=async()=>{try{console.log(b);let e="";if("image/png"===b.type||"image/jpeg"===b.type||"image/jpg"===b.type||"image/webp"===b.type||"image/svg"===b.type){let t=new FormData;t.append("file",b),t.append("cloud_name","".concat(p.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME)),t.append("upload_preset","".concat(p.env.NEXT_PUBLIC_UPLOAD_PRESET)),console.log("Making request to cloudinary");let a=await fetch("https://api.cloudinary.com/v1_1/".concat(p.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME,"/upload"),{method:"POST",body:t}),r=await a.json();e=r.secure_url.toString()}return A(""),y(""),e}catch(e){console.log(e)}finally{}},U=(0,d.sJ)(o.K);return w?U.user&&(null==U?void 0:U.user.isAdmin)?(0,r.jsxs)("div",{className:c().addProductContainer,children:[(0,r.jsx)("h2",{className:"text-4xl",children:"NEW PRODUCT"}),(0,r.jsxs)("div",{className:c().addProductFormParentContainer,children:[(0,r.jsx)("div",{className:c().productThumbnail,children:(0,r.jsxs)("div",{className:c().productThumbnailCard,children:[(0,r.jsx)("h4",{className:c().productTitle,children:"Product Thumbnail"}),(0,r.jsx)("p",{className:c().productDescription,children:"Only *.png, *.jpg, *.jpeg,*.svg, *.webp files are accepted"}),(0,r.jsx)("form",{className:c().uploadForm,children:""===N?(0,r.jsx)("div",{className:c().fileUploadContainer,children:(0,r.jsxs)("div",{className:c().fileUpload,children:[(0,r.jsx)("p",{children:"Upload one file to set as the thumbnail..."}),(0,r.jsx)("input",{type:"file",id:"product-upload-input",accept:"image/png, image/jpeg, image/jpg, image/webp, image/svg+xml",onChange:e=>{let t=e.target.files;A(URL.createObjectURL(t[0])),y(t[0])},className:c().fileInput})]})}):(0,r.jsx)("div",{className:c().thumbnailPreviewCard,children:N&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{onClick:()=>A(""),className:c().DeleteThumbnailBtn,children:"Upload another Image"}),(0,r.jsx)("img",{src:N,className:c().previewThumbnail,alt:"thumbnail"})]})})})]})}),(0,r.jsxs)("div",{className:c().addProductFormContainer,children:[(0,r.jsxs)("div",{className:c().textField,children:[(0,r.jsx)("input",{type:"text",name:"productname",id:"productname",onChange:e=>{t(e.target.value)},value:e,required:!0}),(0,r.jsx)("span",{}),(0,r.jsx)("label",{htmlFor:"productname",children:"Product Name"})]}),(0,r.jsx)("div",{className:c().textarea,children:(0,r.jsx)("textarea",{name:"postContent",autoComplete:"true",cols:10,placeholder:"Write your product description here...",onChange:e=>{l(e.target.value)},value:a,rows:5})}),(0,r.jsxs)("div",{className:c().textField,children:[(0,r.jsx)("input",{type:"number",name:"price",id:"price",required:!0,value:_,onChange:e=>m(e.target.value)}),(0,r.jsx)("span",{}),(0,r.jsx)("label",{htmlFor:"price",children:"Price"})]}),(0,r.jsxs)("div",{className:c().dropdown,children:[(0,r.jsx)("label",{htmlFor:"categories",children:"Choose a category:"}),(0,r.jsxs)("select",{name:"categories",id:"categories",onChange:e=>g(e.target.value),value:h,children:[(0,r.jsx)("option",{value:"selectacategory",children:"Select a category"}),(0,r.jsx)("option",{value:"computer",children:"Computer & Laptops"}),(0,r.jsx)("option",{value:"cellphone",children:"Cellphone"}),(0,r.jsx)("option",{value:"accessories",children:"Accessories"}),(0,r.jsx)("option",{value:"watch",children:"Watch"}),(0,r.jsx)("option",{value:"audioVideo",children:"Audio & Video"})]})]}),(0,r.jsxs)("div",{className:"".concat(c().textField),children:[(0,r.jsx)("input",{type:"text",name:"color",onChange:e=>v(e.target.value),value:x,required:!0}),(0,r.jsx)("span",{}),(0,r.jsx)("label",{htmlFor:"color",children:"Color"})]}),(0,r.jsxs)("div",{className:c().textField,children:[(0,r.jsx)("input",{type:"number",name:"quantity",id:"quantity",onChange:e=>C(e.target.value),value:j,required:!0}),(0,r.jsx)("span",{}),(0,r.jsx)("label",{htmlFor:"quantity",children:"Quantity"})]})]})]}),(0,r.jsxs)("div",{className:c().saveButtonContainer,children:[(0,r.jsx)("div",{className:c().saveButton,onClick:()=>{T({published:!1})},children:(0,r.jsx)("p",{children:"Save as Draft"})}),(0,r.jsx)("div",{className:c().createButton,onClick:()=>{T({published:!0})},children:(0,r.jsx)("p",{children:"Publish Product Live"})})]})]}):(0,r.jsx)(i.default,{}):(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",width:"100%",height:"100vh"},children:(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,r.jsx)(u.Z,{})})})}},2883:function(e){e.exports={container:"__404_container__natjV",title:"__404_title__Hr8CI",message:"__404_message__foJ4C",linkContainer:"__404_linkContainer__DWP_N"}},7233:function(e){e.exports={addProductContainer:"Addproduct_addProductContainer__LNY2s",DeleteBtn:"Addproduct_DeleteBtn__EwgNV",addProductFormParentContainer:"Addproduct_addProductFormParentContainer__ei6Qi",addProductFormContainer:"Addproduct_addProductFormContainer__sdXiv",productThumbnail:"Addproduct_productThumbnail__h5Tpn",imagePreviewContainer:"Addproduct_imagePreviewContainer__hmwTn",productThumbnailCard:"Addproduct_productThumbnailCard__Vb2n4",thumbnailPreviewCard:"Addproduct_thumbnailPreviewCard__mDnC2",imagePreviewCard:"Addproduct_imagePreviewCard__k7N6C",DeleteThumbnailBtn:"Addproduct_DeleteThumbnailBtn__sZWgE",previewThumbnail:"Addproduct_previewThumbnail__argSG",productMediaCard:"Addproduct_productMediaCard__SosHL",productTitle:"Addproduct_productTitle__VCTLm",productDescription:"Addproduct_productDescription__P_00P",uploadForm:"Addproduct_uploadForm__615ak",uploadLabel:"Addproduct_uploadLabel__DKaqG",uploadInput:"Addproduct_uploadInput__ceAyO",uploadButtonContainer:"Addproduct_uploadButtonContainer__BbFt0",DeleteFilesBtn:"Addproduct_DeleteFilesBtn__y3uIr",previewImage:"Addproduct_previewImage__CJ1lf",fileUpload:"Addproduct_fileUpload__LGl0E",fileInput:"Addproduct_fileInput__eYsRV",imagePreview:"Addproduct_imagePreview__pqGeZ",clearImage:"Addproduct_clearImage__UKAZ0",fileUploadContainer:"Addproduct_fileUploadContainer__4qtpL",iconContainer:"Addproduct_iconContainer__0K3_D",textField:"Addproduct_textField__4VJo2",dropdown:"Addproduct_dropdown__rk2bP",textarea:"Addproduct_textarea__x7UAy",saveButtonContainer:"Addproduct_saveButtonContainer__7wgEu",createButton:"Addproduct_createButton__qRY20",saveButton:"Addproduct_saveButton__GKQMl"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8481)}),_N_E=e.O()}]);